{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\projects\\\\fullstack-project\\\\client\\\\src\\\\components\\\\forms\\\\NewRecipeForm.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Accordion, Card, Button, Form, Col, Row, Table } from \"react-bootstrap\";\nimport useForm from \"../utills/useForm\";\nimport validate from \"../utills/validateInfo\";\nimport { getData, insertDataToDB, ingredientsOfRecipe, uploadRecipe, getRecipeDetails } from \"../DAL/api\";\nimport { useHistory } from \"react-router-dom\";\nimport ErrorMessages from \"../utills/ErrorMessages\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Cookies = require('js-cookie');\n\nconst axios = require('axios');\n\nfunction NewRecipeForm({\n  match,\n  recipeId,\n  mode\n}) {\n  _s();\n\n  const [ingredients, setIngredients] = useState([]);\n  const [image, setImage] = useState(null);\n  const [units, setUnits] = useState([]);\n  const [instructions, setInstructions] = useState([]);\n  const [guide, setGuide] = useState([]);\n  const [diets, setDiets] = useState([]);\n  const [recipeIngredient, setRecipeIngredient] = useState({});\n  const [recipeGuide, setRecipeGuide] = useState({});\n  const [editMode, setEditMode] = useState(false);\n  const history = useHistory();\n  const [categories, setCategories] = useState([]);\n  const {\n    handleSubmit,\n    handleChange,\n    values,\n    errors\n  } = useForm(submit, validate);\n\n  const deleteInstruction = index => {\n    instructions.splice(index, 1);\n    setInstructions([...instructions]);\n  };\n\n  const deleteGuide = index => {\n    guide.splice(index, 1);\n    setGuide([...guide]);\n  };\n\n  const checkThefilds = obj => {\n    if (Object.keys(obj).length === 0 || Object.keys(obj).length < 3) return false;\n\n    for (const prop in obj) {\n      if (!obj[prop]) return false;\n    }\n\n    return true;\n  };\n\n  const addToList = value => {\n    if (value === 'ingredients') {\n      if (checkThefilds(recipeIngredient)) {\n        setInstructions([...instructions, recipeIngredient]);\n      } else {\n        alert('please check the fields');\n      }\n    }\n\n    if (value === 'guide') setGuide([...guide, recipeGuide]);else return;\n  };\n\n  const checkErrors = obj => {\n    console.log(obj);\n\n    for (let prop in obj) {\n      if (obj[prop].length > 0) return false;\n    }\n\n    return true;\n  };\n\n  const insertDataToForm = recipe => {\n    values.name = recipe.recipe.name;\n    values.source = recipe.recipe.source;\n    values.sourceUrl = recipe.recipe.sourceUrl;\n    values.description = recipe.recipe.description;\n    values.isPrivate = !!recipe.recipe.isPrivate;\n    console.log(recipe.ingredients);\n    setGuide(recipe.instructions);\n    const arr = [];\n\n    for (let x of recipe.category) {\n      console.log(x);\n      arr.push(String(x.categoryId));\n    }\n\n    values.category = arr;\n    const diets = [];\n\n    for (let x of recipe.diet) {\n      diets.push(String(x.dietId));\n    }\n\n    values.diet = diets;\n  };\n\n  async function submit() {\n    if (checkErrors(errors)) {\n      values.userId = 7;\n      const data = new FormData();\n      data.append(\"image\", image);\n      data.append(\"user\", Cookies.get('user')); // const response = await axios.post('http://localhost:3200/recipes/add', { values, guide, instructions })\n\n      data.append('recipeId', response.data.id);\n      console.log(response.data.id);\n      const response = await uploadRecipe(data, {\n        values,\n        guide,\n        instructions\n      });\n    }\n  }\n\n  const changeIngredient = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setRecipeIngredient({ ...recipeIngredient,\n      [name]: value\n    });\n  };\n\n  const changeGuide = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setRecipeGuide({ ...recipeGuide,\n      [name]: value\n    });\n  };\n\n  useEffect(async () => {\n    console.log('props', recipeId);\n    if (!Cookies.get('user')) history.push('/login');\n    const fetchIngredient = await getData('ingredients');\n    const fetchDiets = await getData('diets');\n    const fetchUnits = await getData('units');\n    const fetchCategories = await getData('categories');\n    setDiets(fetchDiets);\n    setUnits(fetchUnits);\n    setIngredients(fetchIngredient);\n    setCategories(fetchCategories);\n\n    if (recipeId) {\n      setEditMode(true);\n      const instruc = await ingredientsOfRecipe(recipeId);\n      const formRecipe = await getRecipeDetails(recipeId);\n      insertDataToForm(formRecipe);\n      console.log(instruc, \"instruc\");\n      setInstructions(instruc);\n    } // const getInstructions = await getData('instructions', match.params.id)\n    // setGuide(getInstructions)\n    // const recipeDetails = await axios.post('http://localhost:3200/recipes', { id: 7 })\n    // console.log(recipeDetails.data);\n\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    encType: \"multipart/form-data\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Adding new recipe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: \"col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"name \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"name\",\n            value: values.name,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), errors.name && /*#__PURE__*/_jsxDEV(ErrorMessages, {\n            errors: errors.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          className: \"col-md-3 mr-4\",\n          children: [/*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              as: \"Row\",\n              column: true,\n              sm: 10,\n              children: \"view permition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Row, {\n            sm: 10,\n            children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"radio\",\n              label: \"public\",\n              defaultValue: false,\n              name: \"isPrivate\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Check, {\n              type: \"radio\",\n              value: true,\n              label: \"private\",\n              name: \"isPrivate\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 15\n            }, this), errors.isPrivate && /*#__PURE__*/_jsxDEV(ErrorMessages, {\n              errors: errors.isPrivate\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Form.File, {\n            label: \"main pic\",\n            name: \"image\",\n            multiple: true,\n            DefaultValue: image,\n            onChange: e => setImage(e.target.files[0])\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \" source\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), errors.source && /*#__PURE__*/_jsxDEV(ErrorMessages, {\n          errors: errors.source\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"recipe source\",\n          name: \"source\",\n          value: values.source,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \" link to source \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \" if exists\",\n          name: \"sourceUrl\",\n          value: values.sourceUrl,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Accordion, {\n        defaultActiveKey: \"0\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Button,\n              variant: \"link\",\n              eventKey: \"3\",\n              children: \"General description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n            eventKey: \"3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mb-3 container-fluid\",\n                controlId: \"exampleForm.ControlTextarea1\",\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"The description will appear below the title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  as: \"textarea\",\n                  rows: 2,\n                  name: \"description\",\n                  value: values.description,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"container w-75 m-auto\",\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mr-3\",\n                    children: \"diet type:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: [diets.length && diets.map(diet => {\n                      return /*#__PURE__*/_jsxDEV(Form.Check, {\n                        type: \"checkbox\",\n                        label: diet.name,\n                        name: \"diet\",\n                        value: diet.id,\n                        onChange: handleChange\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 231,\n                        columnNumber: 29\n                      }, this);\n                    }), errors.diet && /*#__PURE__*/_jsxDEV(ErrorMessages, {\n                      errors: errors.diet\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 239,\n                      columnNumber: 39\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [/*#__PURE__*/_jsxDEV(Row, {\n                    className: \"mr-3\",\n                    children: \"Suitable for category\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Row, {\n                    children: [categories.length && categories.map(category => {\n                      return /*#__PURE__*/_jsxDEV(Form.Check, {\n                        type: \"checkbox\",\n                        label: category.name,\n                        name: \"category\",\n                        value: category.id,\n                        onChange: handleChange //  checked={values.category}\n\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 248,\n                        columnNumber: 29\n                      }, this);\n                    }), errors.category && /*#__PURE__*/_jsxDEV(ErrorMessages, {\n                      errors: errors.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 43\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Button,\n              variant: \"link\",\n              eventKey: \"0\",\n              children: \"Ingredients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n            eventKey: \"0\",\n            children: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [instructions.length > 0 && instructions.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-1\",\n                  children: item.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-3\",\n                  children: units[item.measureUnit - 1].name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-3\",\n                  children: ingredients[item.ingredient - 1].name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-4\",\n                  children: item.note\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-trash text-sm\",\n                  onClick: () => deleteInstruction(i),\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 23\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"p-5\",\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  className: \"col-sm-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"quantity\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"number\",\n                    min: 1,\n                    name: \"quantity\",\n                    onChange: e => {\n                      changeIngredient(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 289,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  className: \"col-md-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"measurement unit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    onChange: e => changeIngredient(e),\n                    name: \"measureUnit\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"---choose \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 23\n                    }, this), units.map((unit, i) => {\n                      return /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: unit.id,\n                        name: unit.name,\n                        children: unit.name\n                      }, i, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 297,\n                        columnNumber: 27\n                      }, this);\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"Ingredients\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                    onChange: e => changeIngredient(e),\n                    name: \"ingredient\",\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"---choose \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 308,\n                      columnNumber: 23\n                    }, this), ingredients.length > 0 && ingredients.map((ingredient, i) => {\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: ingredient.id,\n                          name: ingredient.name,\n                          children: ingredient.name\n                        }, i, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 312,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false);\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  className: \"col-md-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"notes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"input\",\n                    name: \"note\",\n                    onChange: e => {\n                      changeIngredient(e);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 322,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      className: \"md-6 mt-3\",\n                      onClick: e => addToList('ingredients'),\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 326,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: () => setInstructions([]),\n                      className: \"md-6 mt-3 ml-3\",\n                      children: \"Clear\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 331,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 325,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Button,\n              variant: \"link\",\n              eventKey: \"1\",\n              children: \"Preparation steps\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n            eventKey: \"1\",\n            children: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [guide.length > 0 && guide.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-5\",\n                  children: item.number\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-sm-5\",\n                  children: item.instruction\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => deleteGuide(i),\n                  className: \"col-sm-1\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fas fa-trash text-sm \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 354,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 23\n                }, this)]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(Row, {\n                className: \"d-flex p-5\",\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  className: \"col-md-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"#\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"input\",\n                    name: \"number\",\n                    onChange: e => changeGuide(e)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  className: \"col-md-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    children: \"instruction\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"input\",\n                    name: \"instruction\",\n                    onChange: e => changeGuide(e)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  className: \"col-md-2\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"m-2 flex-grow-0\",\n                    onClick: () => addToList('guide'),\n                    children: \"Save\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: \"text-left\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          children: editMode ? \"Edit Recipe\" : \"Add Recipe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n\n_s(NewRecipeForm, \"dINFdauSORv6HXwnDpV8bCcDNAQ=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = NewRecipeForm;\nexport default NewRecipeForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewRecipeForm\");","map":{"version":3,"sources":["C:/Users/User/Documents/projects/fullstack-project/client/src/components/forms/NewRecipeForm.jsx"],"names":["useEffect","useState","Accordion","Card","Button","Form","Col","Row","Table","useForm","validate","getData","insertDataToDB","ingredientsOfRecipe","uploadRecipe","getRecipeDetails","useHistory","ErrorMessages","Cookies","require","axios","NewRecipeForm","match","recipeId","mode","ingredients","setIngredients","image","setImage","units","setUnits","instructions","setInstructions","guide","setGuide","diets","setDiets","recipeIngredient","setRecipeIngredient","recipeGuide","setRecipeGuide","editMode","setEditMode","history","categories","setCategories","handleSubmit","handleChange","values","errors","submit","deleteInstruction","index","splice","deleteGuide","checkThefilds","obj","Object","keys","length","prop","addToList","value","alert","checkErrors","console","log","insertDataToForm","recipe","name","source","sourceUrl","description","isPrivate","arr","x","category","push","String","categoryId","diet","dietId","userId","data","FormData","append","get","response","id","changeIngredient","e","target","changeGuide","fetchIngredient","fetchDiets","fetchUnits","fetchCategories","instruc","formRecipe","files","map","item","i","quantity","measureUnit","ingredient","note","unit","number","instruction"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Accordion, Card, Button, Form, Col, Row, Table, } from \"react-bootstrap\";\r\nimport useForm from \"../utills/useForm\";\r\nimport validate from \"../utills/validateInfo\";\r\nimport { getData, insertDataToDB, ingredientsOfRecipe, uploadRecipe, getRecipeDetails } from \"../DAL/api\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ErrorMessages from \"../utills/ErrorMessages\";\r\nconst Cookies = require('js-cookie')\r\nconst axios = require('axios')\r\n\r\n\r\nfunction NewRecipeForm({ match, recipeId, mode }) {\r\n  const [ingredients, setIngredients] = useState([]);\r\n  const [image, setImage] = useState(null)\r\n  const [units, setUnits] = useState([]);\r\n  const [instructions, setInstructions] = useState([]);\r\n  const [guide, setGuide] = useState([]);\r\n  const [diets, setDiets] = useState([]);\r\n  const [recipeIngredient, setRecipeIngredient] = useState({})\r\n  const [recipeGuide, setRecipeGuide] = useState({})\r\n  const [editMode, setEditMode] = useState(false)\r\n  const history = useHistory()\r\n  const [categories, setCategories] = useState([]);\r\n  const { handleSubmit, handleChange, values, errors } = useForm(submit, validate);\r\n\r\n  const deleteInstruction = (index) => {\r\n    instructions.splice(index, 1);\r\n    setInstructions([...instructions]);\r\n  };\r\n\r\n  const deleteGuide = (index) => {\r\n    guide.splice(index, 1);\r\n    setGuide([...guide]);\r\n  };\r\n  const checkThefilds = (obj) => {\r\n    if (Object.keys(obj).length === 0 || Object.keys(obj).length < 3) return false\r\n    for (const prop in obj) {\r\n      if (!obj[prop]) return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  const addToList = (value) => {\r\n    if (value === 'ingredients') {\r\n      if (checkThefilds(recipeIngredient)) {\r\n        setInstructions([...instructions, recipeIngredient])\r\n      } else {\r\n        alert('please check the fields')\r\n      }\r\n    }\r\n    if (value === 'guide') setGuide([...guide, recipeGuide])\r\n    else return\r\n  }\r\n  const checkErrors = (obj) => {\r\n    console.log(obj);\r\n    for (let prop in obj) {\r\n      if (obj[prop].length > 0) return false\r\n    }\r\n    return true\r\n  }\r\n\r\n  const insertDataToForm = (recipe) => {\r\n    values.name = recipe.recipe.name\r\n    values.source = recipe.recipe.source\r\n    values.sourceUrl = recipe.recipe.sourceUrl\r\n    values.description = recipe.recipe.description\r\n    values.isPrivate = !!recipe.recipe.isPrivate\r\n    console.log(recipe.ingredients);\r\n\r\n    setGuide(recipe.instructions)\r\n    const arr = []\r\n    for (let x of recipe.category) {\r\n      console.log(x);\r\n      arr.push(String(x.categoryId))\r\n    }\r\n    values.category = arr\r\n    const diets = []\r\n    for (let x of recipe.diet) {\r\n\r\n      diets.push(String(x.dietId))\r\n    }\r\n    values.diet = diets;\r\n  }\r\n  async function submit() {\r\n    if (checkErrors(errors)) {\r\n      values.userId = 7;\r\n      const data = new FormData();\r\n      data.append(\"image\", image)\r\n      data.append(\"user\", Cookies.get('user'))\r\n      // const response = await axios.post('http://localhost:3200/recipes/add', { values, guide, instructions })\r\n      data.append('recipeId', response.data.id)\r\n      console.log(response.data.id);\r\n      const response= await uploadRecipe(data, { values, guide, instructions })\r\n    }\r\n  }\r\n  const changeIngredient = (e) => {\r\n    const { name, value } = e.target;\r\n    setRecipeIngredient({ ...recipeIngredient, [name]: value })\r\n\r\n  }\r\n\r\n  const changeGuide = (e) => {\r\n    const { name, value } = e.target;\r\n    setRecipeGuide({ ...recipeGuide, [name]: value })\r\n  }\r\n\r\n\r\n  useEffect(async () => {\r\n    console.log('props', recipeId);\r\n    if (!Cookies.get('user')) history.push('/login')\r\n    const fetchIngredient = await getData('ingredients')\r\n    const fetchDiets = await getData('diets')\r\n    const fetchUnits = await getData('units')\r\n    const fetchCategories = await getData('categories')\r\n    setDiets(fetchDiets);\r\n    setUnits(fetchUnits);\r\n    setIngredients(fetchIngredient);\r\n    setCategories(fetchCategories);\r\n    if (recipeId) {\r\n      setEditMode(true)\r\n      const instruc = await ingredientsOfRecipe(recipeId)\r\n      const formRecipe = await getRecipeDetails(recipeId)\r\n      insertDataToForm(formRecipe)\r\n      console.log(instruc, \"instruc\");\r\n      setInstructions(instruc)\r\n    }\r\n\r\n\r\n\r\n    // const getInstructions = await getData('instructions', match.params.id)\r\n    // setGuide(getInstructions)\r\n\r\n    // const recipeDetails = await axios.post('http://localhost:3200/recipes', { id: 7 })\r\n    // console.log(recipeDetails.data);\r\n  }, []);\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit} encType=\"multipart/form-data\" >\r\n      <div className=\"form-inner\">\r\n        <h1>Adding new recipe</h1>\r\n        <Row className=\"container\">\r\n          <Col className=\"col-md-3\">\r\n            <Form.Label>name </Form.Label>\r\n            <Form.Control type=\"text\" name=\"name\" value={values.name} onChange={handleChange} />\r\n            {errors.name && <ErrorMessages errors={errors.name} />}\r\n          </Col>\r\n          <Col className=\"col-md-3 mr-4\">\r\n            <Row>\r\n              <Form.Label as=\"Row\" column sm={10}>\r\n                view permition\r\n              </Form.Label>\r\n            </Row>\r\n            <Row sm={10}>\r\n              <Form.Check\r\n                type=\"radio\"\r\n                label=\"public\"\r\n                defaultValue={false}\r\n                name=\"isPrivate\"\r\n                onChange={handleChange}\r\n              />\r\n              <Form.Check\r\n                type=\"radio\"\r\n                value={true}\r\n                label=\"private\"\r\n                name=\"isPrivate\"\r\n                onChange={handleChange}\r\n              />\r\n              {errors.isPrivate && <ErrorMessages errors={errors.isPrivate} />}\r\n            </Row>\r\n          </Col>\r\n          <Col>\r\n            <Form.File\r\n              label=\"main pic\"\r\n              name=\"image\"\r\n              multiple\r\n              DefaultValue={image}\r\n              onChange={(e) => setImage(e.target.files[0])}\r\n            />\r\n            {/* {errors.image && <ErrorMessages errors={errors.image} />} */}\r\n          </Col>\r\n        </Row>\r\n        <Row className=\"container-fluid\">\r\n          <Form.Label> source</Form.Label>\r\n          {errors.source && <ErrorMessages errors={errors.source} />}\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"recipe source\"\r\n            name=\"source\"\r\n            value={values.source}\r\n            onChange={handleChange}\r\n          />\r\n          <Form.Label> link to source </Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\" if exists\"\r\n            name=\"sourceUrl\"\r\n            value={values.sourceUrl}\r\n            onChange={handleChange}\r\n          />\r\n        </Row>\r\n        <Accordion defaultActiveKey=\"0\">\r\n          <Card>\r\n            <Card.Header>\r\n              <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"3\">\r\n                General description\r\n              </Accordion.Toggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey=\"3\">\r\n              <div>\r\n                <Form.Group\r\n                  className=\"mb-3 container-fluid\"\r\n                  controlId=\"exampleForm.ControlTextarea1\">\r\n                  <Form.Label>\r\n                    The description will appear below the title\r\n                  </Form.Label>\r\n                  <Form.Control\r\n                    as=\"textarea\"\r\n                    rows={2}\r\n                    name=\"description\"\r\n                    value={values.description}\r\n                    onChange={handleChange}\r\n                  />\r\n                </Form.Group>\r\n                <Row className=\"container w-75 m-auto\">\r\n                  <Col>\r\n                    <Row className=\"mr-3\">diet type:</Row>\r\n                    <Row>\r\n                      {diets.length &&\r\n                        diets.map((diet) => {\r\n                          return (\r\n                            <Form.Check\r\n                              type=\"checkbox\"\r\n                              label={diet.name}\r\n                              name='diet'\r\n                              value={diet.id}\r\n                              onChange={handleChange} />\r\n                          );\r\n                        })}\r\n                      {errors.diet && <ErrorMessages errors={errors.diet} />}\r\n                    </Row>\r\n                  </Col>\r\n                  <Col>\r\n                    <Row className=\"mr-3\">Suitable for category</Row>\r\n                    <Row>\r\n                      {categories.length &&\r\n                        categories.map((category) => {\r\n                          return (\r\n                            <Form.Check\r\n                              type=\"checkbox\"\r\n                              label={category.name}\r\n                              name='category'\r\n                              value={category.id}\r\n                              onChange={handleChange}\r\n                            //  checked={values.category}\r\n                            />\r\n                          );\r\n                        })}\r\n                      {errors.category && <ErrorMessages errors={errors.category} />}\r\n                    </Row>\r\n\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n          <Card>\r\n            <Card.Header>\r\n              <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\r\n                Ingredients\r\n              </Accordion.Toggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey=\"0\">\r\n              <>\r\n                {instructions.length > 0 &&\r\n\r\n                  instructions.map((item, i) => (\r\n                    <div key={i} className='d-flex'>\r\n                      <div className='col-sm-1'>{item.quantity}</div>\r\n                      <div className='col-sm-3'>{units[item.measureUnit - 1].name}</div>\r\n                      <div className='col-sm-3'>{ingredients[item.ingredient - 1].name}</div>\r\n                      <div className='col-sm-4'>{item.note}</div>\r\n                      <i class=\"fas fa-trash text-sm\" onClick={() => deleteInstruction(i)}> </i>\r\n                    </div>\r\n                  ))}\r\n\r\n                <Row className=\"p-5\">\r\n                  <Col className=\"col-sm-2\">\r\n                    <Form.Label>quantity</Form.Label>\r\n                    <Form.Control type=\"number\" min={1} name='quantity' onChange={(e) => { changeIngredient(e) }} />\r\n                  </Col>\r\n                  <Col className=\"col-md-4\">\r\n                    <Form.Label>measurement unit</Form.Label>\r\n                    <select onChange={(e) => changeIngredient(e)} name='measureUnit'>\r\n                      <option>---choose </option>\r\n                      {units.map((unit, i) => {\r\n                        return (\r\n                          <option key={i} value={unit.id} name={unit.name}>\r\n                            {unit.name}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </Col>\r\n\r\n                  <Col>\r\n                    <Form.Label>Ingredients</Form.Label>\r\n                    <select onChange={(e) => changeIngredient(e)} name='ingredient'>\r\n                      <option>---choose </option>\r\n                      {ingredients.length > 0 && ingredients.map((ingredient, i) => {\r\n                        return (\r\n                          <>\r\n                            <option key={i} value={ingredient.id} name={ingredient.name}>\r\n                              {ingredient.name}\r\n                            </option>\r\n                          </>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </Col>\r\n                  <Col className=\"col-md-2\">\r\n                    <Form.Label>notes</Form.Label>\r\n                    <Form.Control as=\"input\" name='note' onChange={(e) => { changeIngredient(e) }} />\r\n                  </Col>\r\n                  <Row >\r\n                    <Col >\r\n                      <Button\r\n                        className=\"md-6 mt-3\"\r\n                        onClick={(e) => addToList('ingredients')}>\r\n                        Save\r\n                      </Button>\r\n                      <Button onClick={() => setInstructions([])}\r\n                        className=\"md-6 mt-3 ml-3\">Clear</Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Row>\r\n              </>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n          <Card>\r\n            <Card.Header>\r\n              <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\r\n                Preparation steps\r\n              </Accordion.Toggle>\r\n            </Card.Header>\r\n            <Accordion.Collapse eventKey=\"1\">\r\n              <>\r\n                {guide.length > 0 &&\r\n                  guide.map((item, i) => (\r\n                    <div key={i} className='d-flex'>\r\n                      <div className='col-sm-5'>{item.number}</div>\r\n                      <div className='col-sm-5'>{item.instruction}</div>\r\n                      <button onClick={() => deleteGuide(i)}\r\n                        className='col-sm-1'>\r\n                        <i class=\"fas fa-trash text-sm \"></i>\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                <Row className=\"d-flex p-5\">\r\n                  <Col className=\"col-md-2\">\r\n                    <Form.Label>#</Form.Label>\r\n                    <Form.Control as=\"input\" name='number' onChange={(e) => changeGuide(e)} />\r\n                  </Col>\r\n                  <Col className=\"col-md-4\">\r\n                    <Form.Label>instruction</Form.Label>\r\n                    <Form.Control as=\"input\" name='instruction' onChange={(e) => changeGuide(e)} />\r\n                  </Col>\r\n                  <Col className=\"col-md-2\">\r\n                    <Button\r\n                      className=\"m-2 flex-grow-0\"\r\n                      onClick={() => addToList('guide')}\r\n                    >\r\n                      Save\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </>\r\n            </Accordion.Collapse>\r\n          </Card>\r\n        </Accordion>\r\n        <Row className=\"text-left\">\r\n          <Button type=\"submit\"  >\r\n            {editMode ? \"Edit Recipe\" : \"Add Recipe\"}\r\n          </Button>\r\n        </Row>\r\n      </div>\r\n    </Form >\r\n  );\r\n}\r\nexport default NewRecipeForm;\r\n"]},"metadata":{},"sourceType":"module"}