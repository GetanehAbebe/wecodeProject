{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\projects\\\\fullstack-project\\\\client\\\\src\\\\components\\\\sections\\\\ShowAllRecipes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Spinner } from \"react-bootstrap\";\nimport './AllRecipes.css';\nimport CardItem from \"./CardItem\";\nimport { Form, Row, Col, ButtonGroup, ToggleButton } from \"react-bootstrap\";\nimport ReactPaginate from 'react-paginate';\nimport { getData, orderBy, addfavorites } from \"../DAL/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cookies = require(\"js-cookie\");\n\nconst ShowAllRecipes = props => {\n  _s();\n\n  const {\n    recipes,\n    images,\n    loading,\n    onAdd\n  } = props;\n  const [orderListBy, setOrderListBy] = useState('asc');\n  const [newRecipes, setNewRecipes] = useState([]);\n  const [listState, setListState] = useState('name');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageNumber, setPageNumber] = useState(0);\n  const [recipesPerPage, setRecipesPerPage] = useState(5);\n  const [checked, setChecked] = useState(false);\n  const [radioValue, setRadioValue] = useState('name');\n  const radios = [{\n    name: 'Name',\n    value: 'name'\n  }, {\n    name: 'Date',\n    value: 'uploadDate'\n  }, {\n    name: 'Views',\n    value: 'views'\n  }];\n  useEffect(() => {\n    console.log(recipes.length);\n    setNewRecipes(recipes);\n  }, []);\n  useEffect(() => {\n    return order();\n  }, [orderListBy, listState, pageNumber, recipesPerPage]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Loading\", /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this);\n  }\n\n  const order = async () => {\n    const value = listState;\n    const response = await orderBy(value, orderListBy, pageNumber, recipesPerPage);\n    console.log(response);\n    setNewRecipes(response);\n  };\n\n  const changeState = () => {\n    if (orderListBy === 'asc') {\n      setOrderListBy('desc');\n    }\n\n    if (orderListBy === 'desc') {\n      setOrderListBy('asc');\n    }\n  };\n\n  const changeListState = e => {\n    console.log(e.target.value);\n    setListState(e.target.value);\n  };\n\n  const indexOfLastPost = currentPage * recipesPerPage;\n  const indexOfFirstPost = indexOfLastPost - recipesPerPage;\n  const currentPosts = recipes.slice(indexOfFirstPost, indexOfLastPost);\n  const pageCount = Math.ceil(recipes.length / recipesPerPage);\n\n  const changePage = ({\n    selected\n  }) => {\n    setPageNumber(selected);\n  };\n\n  const addToLikes = async (userId, recipeId) => {\n    const response = await addfavorites(userId, recipeId);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center recipes-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        onChange: e => setRecipesPerPage(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          children: \"recipes per page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 5,\n          children: \"5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 10,\n          children: \"10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 20,\n          children: \"20\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 50,\n          children: \"50\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 100,\n          children: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ReactPaginate, {\n        previousLabel: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fas fa-arrow-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 39\n        }, this),\n        nextLabel: /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fas fa-arrow-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 20\n        }, this),\n        pageCount: pageCount,\n        onPageChange: changePage,\n        containerClassName: \"paginationBttns\",\n        previousLinkClassName: \"previousBttn\",\n        nextLinkClassName: \"nextBttn\",\n        disabledClassName: \"paginationDisabled\",\n        activeClassName: \"paginationActive\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n        children: radios.map((radio, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(ToggleButton, {\n            id: `radio-${idx}`,\n            type: \"radio\",\n            variant: 'outline-dark ',\n            name: \"radio\",\n            value: radio.value,\n            checked: radioValue === radio.value,\n            onChange: e => {\n              setRadioValue(e.target.value);\n              setChecked(e.currentTarget.checked);\n              changeListState(e);\n            },\n            children: radio.name\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        vlaue: \"date\",\n        onClick: changeState,\n        className: \"ml-3\",\n        children: orderListBy === 'asc' ? /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fas fa-sort-amount-up-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 90\n        }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fas fa-sort-amount-down-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 134\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex flex-wrap justify-content-center\",\n      children: newRecipes.length > 0 && newRecipes.map((recipe, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"recipe\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"image\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: recipe.images[0] ? `http://localhost:3200/${recipe.images[0].url} ` : 'https://images.pexels.com/photos/3843282/pexels-photo-3843282.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"likes text-danger\",\n            onClick: e => {\n              addToLikes(Cookies.get(\"user\"), recipe.id);\n            },\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-heart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"name\",\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: recipe.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          class: \"media\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-clock-o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 19\n            }, this), \" \", recipe.prepTimeMin, \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"far fa-clock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 70\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-eye\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this), \" \", recipe.views]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"  \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"far fa-calendar-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 21\n            }, this), \" \", recipe.createdAt.slice(5, 10).split('-').reverse().join('-')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n              to: `products/${recipe.id}`,\n              children: [\"   \", /*#__PURE__*/_jsxDEV(\"i\", {\n                class: \"fas fa-info-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 20\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShowAllRecipes, \"CIsLSNdf8+pf9T1uunk3cHlRLEc=\");\n\n_c = ShowAllRecipes;\nexport default ShowAllRecipes;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowAllRecipes\");","map":{"version":3,"sources":["C:/Users/User/Documents/projects/fullstack-project/client/src/components/sections/ShowAllRecipes.js"],"names":["React","useState","useEffect","Link","Button","Spinner","CardItem","Form","Row","Col","ButtonGroup","ToggleButton","ReactPaginate","getData","orderBy","addfavorites","Cookies","require","ShowAllRecipes","props","recipes","images","loading","onAdd","orderListBy","setOrderListBy","newRecipes","setNewRecipes","listState","setListState","currentPage","setCurrentPage","pageNumber","setPageNumber","recipesPerPage","setRecipesPerPage","checked","setChecked","radioValue","setRadioValue","radios","name","value","console","log","length","order","response","changeState","changeListState","e","target","indexOfLastPost","indexOfFirstPost","currentPosts","slice","pageCount","Math","ceil","changePage","selected","addToLikes","userId","recipeId","map","radio","idx","currentTarget","recipe","i","url","get","id","prepTimeMin","views","createdAt","split","reverse","join"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Spinner } from \"react-bootstrap\";\r\nimport './AllRecipes.css'\r\nimport CardItem from \"./CardItem\";\r\nimport { Form, Row, Col, ButtonGroup, ToggleButton } from \"react-bootstrap\";\r\nimport ReactPaginate from 'react-paginate'\r\nimport { getData, orderBy, addfavorites } from \"../DAL/api\";\r\nconst Cookies = require(\"js-cookie\");\r\nconst ShowAllRecipes = (props) => {\r\n  const { recipes, images, loading, onAdd } = props\r\n  const [orderListBy, setOrderListBy] = useState('asc')\r\n  const [newRecipes, setNewRecipes] = useState([])\r\n  const [listState, setListState] = useState('name')\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pageNumber, setPageNumber] = useState(0)\r\n  const [recipesPerPage, setRecipesPerPage] = useState(5);\r\n  const [checked, setChecked] = useState(false);\r\n  const [radioValue, setRadioValue] = useState('name');\r\n\r\n  const radios = [\r\n    { name: 'Name', value: 'name' },\r\n    { name: 'Date', value: 'uploadDate' },\r\n    { name: 'Views', value: 'views' },\r\n  ];\r\n  useEffect(() => {\r\n    console.log(recipes.length);\r\n\r\n    setNewRecipes(recipes)\r\n  }, [])\r\n  useEffect(() => {\r\n    return order()\r\n  }, [orderListBy, listState, pageNumber, recipesPerPage])\r\n  if (loading) {\r\n    return (\r\n      <h2>\r\n        Loading\r\n        <Spinner animation=\"border\" />\r\n      </h2>\r\n    );\r\n  }\r\n  const order = async () => {\r\n    const value = listState\r\n    const response = await orderBy(value, orderListBy, pageNumber, recipesPerPage)\r\n    console.log(response);\r\n    setNewRecipes(response)\r\n  }\r\n\r\n  const changeState = () => {\r\n    if (orderListBy === 'asc') {\r\n      setOrderListBy('desc')\r\n\r\n    }\r\n    if (orderListBy === 'desc') {\r\n      setOrderListBy('asc')\r\n\r\n    }\r\n  }\r\n  const changeListState = (e) => {\r\n    console.log(e.target.value);\r\n    setListState(e.target.value)\r\n  }\r\n  const indexOfLastPost = currentPage * recipesPerPage;\r\n  const indexOfFirstPost = indexOfLastPost - recipesPerPage;\r\n  const currentPosts = recipes.slice(indexOfFirstPost, indexOfLastPost);\r\n  const pageCount = Math.ceil(recipes.length / recipesPerPage)\r\n  const changePage = ({ selected }) => {\r\n    setPageNumber(selected);\r\n  }\r\n  const addToLikes = async (userId, recipeId) => {\r\n    const response = await addfavorites(userId, recipeId)\r\n  }\r\n  return (\r\n    <div>\r\n      <div className='d-flex justify-content-center recipes-header'>\r\n        <select onChange={(e) => setRecipesPerPage(e.target.value)}>\r\n          <option>recipes per page</option>\r\n          <option value={5}>5</option>\r\n          <option value={10}>10</option>\r\n          <option value={20}>20</option>\r\n          <option value={50}>50</option>\r\n          <option value={100}>100</option>\r\n        </select>\r\n        <ReactPaginate previousLabel={<i class=\"fas fa-arrow-left\"></i>}\r\n        nextLabel={<i class=\"fas fa-arrow-right\"></i>}\r\n        pageCount={pageCount}\r\n        onPageChange={changePage}\r\n        containerClassName={\"paginationBttns\"}\r\n        previousLinkClassName={\"previousBttn\"}\r\n        nextLinkClassName={\"nextBttn\"}\r\n        disabledClassName={\"paginationDisabled\"}\r\n        activeClassName={\"paginationActive\"} />\r\n        <ButtonGroup>\r\n\r\n          {radios.map((radio, idx) => (\r\n            <div>\r\n              <ToggleButton\r\n                key={idx}\r\n                id={`radio-${idx}`}\r\n                type=\"radio\"\r\n                variant={'outline-dark '}\r\n                name=\"radio\"\r\n                value={radio.value}\r\n                checked={radioValue === radio.value}\r\n                onChange={(e) => {\r\n                  setRadioValue(e.target.value)\r\n                  setChecked(e.currentTarget.checked)\r\n                  changeListState(e)\r\n                }}\r\n              >\r\n                {radio.name}\r\n              </ToggleButton>\r\n            </div>\r\n          ))}\r\n        </ButtonGroup>\r\n        <h1 vlaue='date' onClick={changeState} className='ml-3'>{orderListBy === 'asc' ? <i class=\"fas fa-sort-amount-up-alt\"></i> : <i class=\"fas fa-sort-amount-down-alt\"></i>}</h1>\r\n\r\n      </div>\r\n      <div className='d-flex flex-wrap justify-content-center'>\r\n        {newRecipes.length > 0 && newRecipes.map((recipe, i) => (\r\n\r\n          <div class=\"recipe\">\r\n            <div class=\"image\">\r\n              <img src={recipe.images[0] ? `http://localhost:3200/${recipe.images[0].url} ` : 'https://images.pexels.com/photos/3843282/pexels-photo-3843282.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260'} />\r\n              <div class=\"likes text-danger\" onClick={(e) => {\r\n                addToLikes(Cookies.get(\"user\"), recipe.id)\r\n              }}>\r\n                <i class=\"fas fa-heart\"></i>\r\n              </div>\r\n              <div class=\"name\">\r\n                <h3>{recipe.name}</h3>\r\n              </div>\r\n            </div>\r\n\r\n            <ul class=\"media\">\r\n              <li><i class=\"fa fa-clock-o\"></i> {recipe.prepTimeMin} <i class=\"far fa-clock\"></i></li>\r\n              <li><i class=\"fa fa-eye\"></i> {recipe.views}</li>\r\n              <li>  <i class=\"far fa-calendar-alt\"></i> {(recipe.createdAt).slice(5, 10).split('-').reverse().join('-')}</li>\r\n              <li> <Link to={`products/${recipe.id}`}>   <i class=\"fas fa-info-circle\"></i></Link > </li>\r\n            </ul>\r\n          </div>\r\n\r\n        ))\r\n        }\r\n\r\n      </div>\r\n      \r\n    </div >\r\n\r\n  )\r\n}\r\n\r\nexport default ShowAllRecipes;\r\n"]},"metadata":{},"sourceType":"module"}